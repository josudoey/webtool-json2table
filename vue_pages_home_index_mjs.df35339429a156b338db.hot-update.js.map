{"version":3,"file":"vue_pages_home_index_mjs.df35339429a156b338db.hot-update.js","mappings":";;;;;;;;;;;;;;;;;AAAyB;AAC6B;AACzB;AACiB;AAC9C;AACA;AACA,iEAAe;AACf,QAAQ;AACR,iBAAiB;AACjB;AACA,aAAa;AACb,GAAG;AACH;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,yCAAyC,4CAAI;AAC7C;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,2BAA2B,4CAAI;AAC/B;AACA,KAAK;AACL;AACA;AACA,uCAAuC,GAAG;AAC1C,gCAAgC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE;AACvE,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,wCAAW;AAChC;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC","sources":["webpack:///../vue/pages/home/index.mjs"],"sourcesContent":["import JSON5 from 'json5'\nimport { render, staticRenderFns } from './render.pug'\nimport { pick } from 'lodash'\nimport JsonTable from './json-table/index.mjs'\nconst persistKey = 'state'\nconst persistProps = ['text']\nexport default {\n  render,\n  staticRenderFns,\n  components: {\n    JsonTable\n  },\n  data: () => {\n    return {\n      text: '{hello: \\'world\\'}',\n      value: ''\n    }\n  },\n  mounted () {\n    this.load()\n    this.translate()\n  },\n  updated () {\n    this.save()\n  },\n  methods: {\n    save: function () {\n      const persisValue = JSON.stringify(pick(this.$data, persistProps))\n      window.sessionStorage.setItem(persistKey, persisValue)\n    },\n    load () {\n      const state = window.sessionStorage.getItem(persistKey)\n      if (!state) {\n        return\n      }\n      const persistState = pick(JSON.parse(state), persistProps)\n      Object.assign(this.$data, persistState)\n    },\n    getMongoJSON (text) {\n      return text\n        .replace(/ObjectId\\((\"[0-9a-f]{24}\")\\)/g, '$1')\n        .replace(/ISODate\\((\"\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z\")\\)/g, '$1')\n    },\n    translate () {\n      try {\n        const t = this.getMongoJSON(this.text)\n        console.log(t)\n        this.value = JSON5.parse(t)\n        this.save()\n      } catch (err) {\n        this.$bvToast.toast(err.message, {\n          title: 'Parse Error',\n          autoHideDelay: 1000,\n          appendToast: true\n        })\n      }\n    }\n  }\n}\n"],"names":[],"sourceRoot":""}